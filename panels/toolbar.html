<link rel="import" href="../bower_components/polymer/polymer-element.html">

<dom-module id="math-panel-toolbar">
    <template>
        <style>
            :host {
                width: 100%;
            }

            #root {
                position:   absolute;
                left:       50%;
                transform:  translate(-50%, 0%);
                text-align: justify;
            }

            p {
                margin: 0px;
            }

            .item {
                height:  38px;
                width:   38px;
                border:  1px solid black;
                margin:  5px;
            }
        </style>
        <div id="root">
            <div class="item">
                hey
            </div>
            <div class="item">
                hey
            </div>
            <div class="item">
                hey
            </div>
            <div class="item">
                hey
            </div>
            <div class="item">
                hey
            </div>
        </div>
    </template>
    <script>
        const TOOLBAR_ITEM_WIDTH   = 40;
        const TOOLBAR_ITEM_SPACING = 10;

        class MathPanelToolbar extends Polymer.Element {
            static get is() {
                return "math-panel-toolbar";
            }

            ready() {
                super.ready();

                console.log(this);
                this.addEventListener("resize", function(e) {
                    console.log("yuh");
                });
                (this.shadowRoot.childNodes[0].nodeName == "#text" ? this.shadowRoot.childNodes[1] : this.shadowRoot.childNodes[2]).style.width = Math.floor(this.offsetWidth / (TOOLBAR_ITEM_WIDTH + TOOLBAR_ITEM_SPACING)) * (TOOLBAR_ITEM_WIDTH + TOOLBAR_ITEM_SPACING) + "px";
                reflowItems();
            }

            yuh() {
                console.log("yuh");
            }
        }

        //var toolbarPanel = new MathPanelToolbar();

        function reflowItems() {
            console.log(window.customElements);
            //toolbarPanel.yuh()
            //(this.shadowRoot.childNodes[0].nodeName == "#text" ? this.shadowRoot.childNodes[1] : this.shadowRoot.childNodes[2]).style.width = Math.floor(this.offsetWidth / (TOOLBAR_ITEM_WIDTH + TOOLBAR_ITEM_SPACING)) * (TOOLBAR_ITEM_WIDTH + TOOLBAR_ITEM_SPACING) + "px";
        }

        customElements.define(MathPanelToolbar.is, MathPanelToolbar);
    </script>
</dom-module>
